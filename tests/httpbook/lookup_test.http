# HTTP Book - Lookups API Scenarios
# @name lookup_api_tests
# Run "Login" first to get a token; then run "Fetch lookup" (it uses the token from login response).
###
# @name lookup_api_config
@baseUrl = https://octa.cinnagen.com
# Auth lives on the Next.js app (octa does not serve /api)
@authBaseUrl = http://localhost:3000
@lookupId = 01KJ06YM685FYANN2ZVV4CGSGH
@loginEmail = abidi.mahyar@gmail.com
@loginPassword = Mm@123456
# Tenant domain (required by auth backend; use full URL as in browser, e.g. https://scm.cinnagen.com)
@tenantDomain = https://aryogen.cinnagen.com
# Optional: set a device fingerprint if your auth backend requires it (e.g. copy from browser cookie x-fingerprint)
@fingerprint = 6b26a04c17f1fd66366976d347a9679de223e3e0530fca64995be6c70d62db2b
###
# Login â€“ run this first to get and set the token for subsequent requests
# @name login
# @no-cookie-jar
POST {{authBaseUrl}}/api/auth/login
content-type: application/json
x-tenant-domain: {{tenantDomain}}
x-fingerprint: {{fingerprint}}

{
  "emailOrUsername": "{{loginEmail}}",
  "password": "{{loginPassword}}",
  "deviceFingerprint": "{{fingerprint}}"
}

HTTP/1.1 200  - OK
x-dns-prefetch-control: on
strict-transport-security: max-age=63072000; includeSubDomains; preload
x-frame-options: SAMEORIGIN
x-content-type-options: nosniff
x-xss-protection: 1; mode=block
referrer-policy: strict-origin-when-cross-origin
permissions-policy: camera=(), microphone=(), geolocation=(), interest-cohort=()
content-security-policy: default-src 'self'; base-uri 'self'; script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net; img-src 'self' data: blob: https:; font-src 'self' data:; connect-src 'self' blob: https://*.cinnagen.com https://cg-gr-app.cinnagen.com:5001 https://www.gstatic.com https://cdn.jsdelivr.net; frame-ancestors 'self'; object-src 'none'; media-src 'self' https: blob:; worker-src 'self' blob:
vary: rsc, next-router-state-tree, next-router-prefetch, next-router-segment-prefetch
content-type: application/json
set-cookie: refresh_token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IjJkMzM3NGUyLWJlMTQtNDM1ZS05ZTA2LWQ2NzJhNTFlZDFkNCJ9.eyJzdWIiOiIwMUs5QUJBNk1ROUs2NE1ZN000QUVCQ0FQMiIsImF1ZCI6IjAxS0FOVEpOOVZQMzBYR0pZNEZRVENUSzdFIiwiYXpwIjoiMDFLQU5USk45VlAzMFhHSlk0RlFUQ1RLN0UiLCJzY29wZSI6IiIsInJvbGVzIjoiIiwiZXhwIjoxNzcyMjg2ODYxLCJpYXQiOjE3NzE2ODIwNjEsImp0aSI6IjhkM2Y0NTg4LTNiM2YtNDhmMS1hNTEyLWQwMTdiZWE4NTJhNyIsImZpbmdlcnByaW50IjoiNDQxNmExOTdlM2I3ZDA4ZjgyZjc3MjEyZmQzY2M1ZmEyZTkwNzg2MWMxZDA0MGQ3ZTI4ZjUxZWIyYmM2YjlmOCIsImlkIjoiMDFLOUFCQTZNUTlLNjRNWTdNNEFFQkNBUDIiLCJ1c2VybmFtZSI6ImFiaWRpbSJ9.sVn8Yi646BijSUufRZamlCKAb5z-Tq1ZXHSYjGLfVph59YT0FywFgEfdEsNaSnk2-6qp87VsqhEk2CHmu_UkTiqyithKdq_kGV8VYkX6Q0IXe2KPX3C9QbPg5GUgRnvOoKi0rOTBmcefEAwrstF8xaSYxj5i2x_8mhMEe8mImji-DHbMThtTXqOFT0FspZTE2GQH24kZSJas4ApPvnECJs1fhdpNM3tVI7J18-I18eM7zsi62DGp_llxPoHzPeltY_fTp2n_vArW7JXZNmAyXtNMDRlfnvtOvgRdzWmvJQtBA7I7Qo066Gug1agmvu4jBPolLzcK1YhVOkJwy8RSKw; Path=/; Expires=Sat, 28 Feb 2026 13:54:20 GMT; Max-Age=604800; HttpOnly; SameSite=lax, user_session_id=01KJ07NQE6M6KCK8FKX33C02Y7; Path=/; Expires=Sat, 21 Feb 2026 14:09:19 GMT; Max-Age=899; HttpOnly; SameSite=lax, sso_session=fXqhWqwY5xGP7_yKIMfBACjmcvBVK2C1w1f0ajhQkDI; Domain=.cinnagen.com; Path=/; Expires=Sat, 28 Feb 2026 13:54:21 GMT; HttpOnly; Secure; SameSite=Lax, auth_user=%7B%22id%22%3A%2201K9ABA6MQ9K64MY7M4AEBCAP2%22%2C%22email%22%3A%22abidi.mahyar%40gmail.com%22%2C%22username%22%3A%22abidim%22%2C%22name%22%3A%5B%7B%22en%22%3A%22Mahyar%22%7D%2C%7B%22fa%22%3A%22%D9%85%D9%87%DB%8C%D8%A7%D8%B1%22%7D%5D%2C%22lastname%22%3A%5B%7B%22en%22%3A%22Abidi%22%7D%2C%7B%22fa%22%3A%22%D8%B9%D8%A8%DB%8C%D8%AF%DB%8C%22%7D%5D%2C%22avatar%22%3A%22https%3A%2F%2Focta.cinnagen.com%2Fauth%2Fprofiles%2Fabidi.mahyar%2540gmail.com%2Fphoto%22%2C%22profile_id%22%3A%22GhthE2toaxxnexNhHB5ncx1nHmtvaGlrehg%3D%22%2C%22isAdmin%22%3Afalse%2C%22status%22%3A%5B%7B%22id%22%3A%2201KBCZAZQ58X7BYEQXDQ4VNV07%22%2C%22icon%22%3A%22CheckCheck%22%2C%22color%22%3A%22emerald%22%2C%22label%22%3A%22Active%22%7D%5D%2C%22entityType%22%3A%5B%7B%22id%22%3A%2201KCXDKF6JJ392P4HMGC8T19TC%22%2C%22icon%22%3A%22Shield%22%2C%22color%22%3A%22rose%22%2C%22label%22%3A%22System%20Administrator%22%7D%5D%2C%22relatedCompanies%22%3A%5B%7B%22id%22%3A%2201K94V8K0RJS7D9K43F2VBTSVG%22%2C%22label%22%3A%5B%7B%22en%22%3A%22AryoGen%22%2C%22fa%22%3A%22%D8%A2%D8%B1%DB%8C%D9%88%DA%98%D9%86%22%7D%5D%7D%2C%7B%22id%22%3A%2201K94V4PJSFKCXS6AVX07P86N5%22%2C%22label%22%3A%5B%7B%22en%22%3A%22CinnaGen%22%2C%22fa%22%3A%22%D8%B3%DB%8C%D9%86%D8%A7%DA%98%D9%86%22%7D%5D%7D%5D%7D; Domain=.cinnagen.com; Path=/; Expires=Sat, 28 Feb 2026 13:54:21 GMT; HttpOnly; Secure; SameSite=Lax, cookiesession1=678A8C51D506A7DBB643CD9F831571E5;Expires=Sun, 21 Feb 2027 13:54:22 GMT;Path=/;HttpOnly, cookiesession1=678A8C50F701258BA423230695A480B7;Expires=Sun, 21 Feb 2027 13:54:22 GMT;Path=/;HttpOnly
date: Sat, 21 Feb 2026 13:54:20 GMT
connection: close
transfer-encoding: chunked
###
# Fetch lookup by ID (POST with Bearer token from login response)
# @ref login
POST {{baseUrl}}/integration/lookups/fetch/{{lookupId}}
Authorization: Bearer {{login.tokens.accessToken}}
x-tenant-domain: {{tenantDomain}}
x-fingerprint: {{fingerprint}}
content-type: application/json

{}

HTTP/1.1 201  - Created
server: nginx
date: Sat, 21 Feb 2026 13:54:29 GMT
content-type: application/json; charset=utf-8
content-length: 160966
connection: close
x-powered-by: Express
x-request-id: 71a4ff9a-8e7a-4600-8314-7b3da4110dc7
x-correlation-id: 38d60320-2a74-452f-8a12-14a524e21780
x-request-hop: 1
vary: Origin
etag: W/"274c6-Qkk3iPF3F0jAEwDsQTfbqdL0Kz4"
strict-transport-security: max-age=63072000; includeSubDomains; preload, max-age=63072000; includeSubDomains; preload, max-age=63072000; includeSubDomains; preload, max-age=63072000; includeSubDomains; preload
x-frame-options: SAMEORIGIN, SAMEORIGIN
x-content-type-options: nosniff, nosniff
x-xss-protection: 1; mode=block, 1; mode=block
content-security-policy: default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net; img-src 'self' data: blob: https:; font-src 'self' data:; connect-src 'self' blob: https://*.cinnagen.com https://cg-gr-app.cinnagen.com:5001 https://www.gstatic.com; frame-src 'self' https://fileservices.cinnagen.com https://*.cinnagen.com; frame-ancestors 'self' https://*.cinnagen.com; object-src 'self' https://fileservices.cinnagen.com https://*.cinnagen.com; media-src 'self' https: blob:; worker-src 'self' blob:; child-src 'self' blob: https://*.cinnagen.com;, default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net; img-src 'self' data: blob: https:; font-src 'self' data:; connect-src 'self' blob: https://*.cinnagen.com https://cg-gr-app.cinnagen.com:5001 https://www.gstatic.com; frame-src 'self' https://fileservices.cinnagen.com https://*.cinnagen.com; frame-ancestors 'self' https://*.cinnagen.com; object-src 'self' https://fileservices.cinnagen.com https://*.cinnagen.com; media-src 'self' https: blob:; worker-src 'self' blob:; child-src 'self' blob: https://*.cinnagen.com;
referrer-policy: strict-origin-when-cross-origin, strict-origin-when-cross-origin
permissions-policy: geolocation=(), microphone=(), camera=(), geolocation=(), microphone=(), camera=()
access-control-allow-methods: GET, POST, PUT, DELETE, OPTIONS
access-control-allow-headers: DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,Authorization,Api-Key,Client-Id,Referer
access-control-expose-headers: Content-Length,Content-Range
access-control-allow-credentials: true